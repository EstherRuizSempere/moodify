<div class="music-player-container">
  <div class="song-info">
    <div class="album-cover">
      <img [src]="currentTrack?.imageUrl|| 'assets/images/holiday-brain.png'"
           [alt]="currentTrack?.name || 'No hay canción seleccionada'"/>
      <div class="heart-icon" [ngClass]="{'liked': currentTrack?.isLiked}" (click)="toggleLike()">
        <i class="fas" [ngClass]="currentTrack?.isLiked ? 'fa-heart' : 'fa-heart-o'"></i>
      </div>
    </div>
    <div class="track-details">
      <h3 class="song-title">{{ currentTrack?.name || 'No hay canción seleccionada' }}</h3>
      <p class="artist-name">{{ currentTrack?.artist || 'Elige una canción para ver el artista' }}</p>
    </div>
  </div>

  <div class="player-controls">
    <div class="control-buttons">
      <button class="control-btn shuffle"><i class="fas fa-random"></i></button>
      <button class="control-btn previous" (click)="playPrevious()"><i class="fas fa-step-backward"></i></button>
      <button class="control-btn play-pause" (click)="togglePlayPause()">
        <i class="fas" [ngClass]="isPlaying ? 'fa-pause' : 'fa-play'"></i>
      </button>
      <button class="control-btn next" (click)="playNext()"><i class="fas fa-step-forward"></i></button>
      <button class="control-btn repeat"><i class="fas fa-redo-alt"></i></button>
    </div>
    <div class="progress-container">
      <span class="current-time">{{ formatTime(currentTime) }}</span>
      <div class="progress-bar" (click)="seek($event)">
        <div class="progress-current" [style.width]="getProgressPercentage()"></div>
      </div>
      <span class="total-time">{{ formatTime(duration) }}</span>
    </div>
  </div>

  <div class="extra-controls">
    <button class="control-btn"><i class="fas fa-list"></i></button>
    <div class="volume-control">
      <i class="fas" [ngClass]="volume === 0 ? 'fa-volume-mute' : volume < 0.5 ? 'fa-volume-down' : 'fa-volume-up'"></i>
      <div class="volume-slider" (click)="setVolume($event)">
        <div class="volume-level" [style.width]="getVolumePercentage()"></div>
      </div>
    </div>
  </div>
</div>
